import{a as de}from"./chunk-K7WHPP73.js";import{b as F,c as d,d as x,e as y,f as N,g as I,h as M,i as w,j as D,k as T,l as A,m as re,n as R,o as le,p as P}from"./chunk-Y4F7W65R.js";import{c as S}from"./chunk-XK32XS4O.js";import"./chunk-KOCIBSW2.js";import{Ab as ie,Bb as U,Ka as a,La as p,Vb as te,Wb as V,Xb as oe,Za as v,Zb as ne,a as j,b as X,bb as m,e as me,fb as i,gb as e,hb as h,ib as O,ja as _,kb as s,mb as f,qa as L,ra as E,sa as g,tb as Q,ub as n,vb as Y,wb as q,ya as C,yb as b,zb as ee}from"./chunk-HYXEKGSD.js";var W=me(de());function ue(r,o){r&1&&(i(0,"div",21),n(1," Nombre v\xE1lido requerido (solo letras). "),e())}function se(r,o){r&1&&(i(0,"div",21),n(1," Seleccione un tipo de veh\xEDculo. "),e())}function pe(r,o){r&1&&(i(0,"div",21),n(1," Debe ser un valor entre 0 y 6. "),e())}function ve(r,o){r&1&&(i(0,"div",21),n(1," Capacidad entre 2 y 100 pasajeros. "),e())}var z=class r{constructor(o,t){this.fb=o;this.firestoreService=t}vehiculoForm;ngOnInit(){this.vehiculoForm=this.fb.group({nombre:["",[d.required,d.pattern(/^[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]*$/)]],tipo:["",d.required],cantidadRuedas:["",[d.required,d.min(0),d.max(6)]],capacidadPromedio:["",[d.required,d.min(2),d.max(100)]]})}guardarVehiculo(){if(this.vehiculoForm.valid){let o=this.vehiculoForm.value;this.firestoreService.guardarVehiculo(o).then(()=>{W.default.fire({title:"\xA1\xC9xito!",text:"El veh\xEDculo ha sido guardado correctamente.",icon:"success",confirmButtonText:"Aceptar"}),this.vehiculoForm.reset()}).catch(t=>{W.default.fire({title:"Error",text:"Hubo un problema al guardar el veh\xEDculo. Int\xE9ntalo de nuevo.",icon:"error",confirmButtonText:"Aceptar"}),console.error("Error al guardar veh\xEDculo:",t)})}}static \u0275fac=function(t){return new(t||r)(p(R),p(S))};static \u0275cmp=_({type:r,selectors:[["app-alta-vehiculo"]],standalone:!0,features:[b],decls:37,vars:6,consts:[[1,"col"],[1,"card","mb-4","rounded-3","shadow-sm"],[1,"card-header","py-3"],[1,"my-0","fw-normal"],[1,"card-body"],["novalidate","",1,"needs-validation",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","placeholder","Ejemplo: Avi\xF3n","required","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","tipo",1,"form-label"],["id","tipo","formControlName","tipo","required","",1,"form-select"],["value","","disabled",""],["value","terrestre"],["value","a\xE9reo"],["value","mar\xEDtimo"],["for","ruedas",1,"form-label"],["type","number","id","ruedas","formControlName","cantidadRuedas","placeholder","Entre 0 y 6","required","",1,"form-control"],["for","capacidad",1,"form-label"],["type","number","id","capacidad","formControlName","capacidadPromedio","placeholder","Entre 2 y 100","required","",1,"form-control"],["type","submit",1,"w-100","btn","btn-lg","btn-outline-primary",3,"disabled"],[1,"invalid-feedback"]],template:function(t,l){if(t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),n(4,"Alta de Veh\xEDculo"),e()(),i(5,"div",4)(6,"form",5),s("ngSubmit",function(){return l.guardarVehiculo()}),i(7,"div",6)(8,"label",7),n(9,"Nombre"),e(),h(10,"input",8),v(11,ue,2,0,"div",9),e(),i(12,"div",6)(13,"label",10),n(14,"Tipo"),e(),i(15,"select",11)(16,"option",12),n(17,"Seleccione un tipo"),e(),i(18,"option",13),n(19,"terrestre"),e(),i(20,"option",14),n(21,"a\xE9reo"),e(),i(22,"option",15),n(23,"mar\xEDtimo"),e()(),v(24,se,2,0,"div",9),e(),i(25,"div",6)(26,"label",16),n(27,"Cantidad de Ruedas"),e(),h(28,"input",17),v(29,pe,2,0,"div",9),e(),i(30,"div",6)(31,"label",18),n(32,"Capacidad Promedio"),e(),h(33,"input",19),v(34,ve,2,0,"div",9),e(),i(35,"button",20),n(36," Guardar Veh\xEDculo "),e()()()()()),t&2){let c,u,G,B;a(6),m("formGroup",l.vehiculoForm),a(5),m("ngIf",((c=l.vehiculoForm.get("nombre"))==null?null:c.invalid)&&((c=l.vehiculoForm.get("nombre"))==null?null:c.touched)),a(13),m("ngIf",((u=l.vehiculoForm.get("tipo"))==null?null:u.invalid)&&((u=l.vehiculoForm.get("tipo"))==null?null:u.touched)),a(5),m("ngIf",((G=l.vehiculoForm.get("cantidadRuedas"))==null?null:G.invalid)&&((G=l.vehiculoForm.get("cantidadRuedas"))==null?null:G.touched)),a(5),m("ngIf",((B=l.vehiculoForm.get("capacidadPromedio"))==null?null:B.invalid)&&((B=l.vehiculoForm.get("capacidadPromedio"))==null?null:B.touched)),a(),m("disabled",l.vehiculoForm.invalid)}},dependencies:[P,N,T,A,F,I,D,x,y,re,M,w,V]})};function he(r,o){if(r&1){let t=O();i(0,"div",8)(1,"div",9)(2,"div",10)(3,"h4",11),n(4),e(),i(5,"button",12),s("click",function(){let c=E(t).$implicit,u=f(3);return g(u.editarVehiculo(c))}),n(6," Editar "),e(),i(7,"button",12),s("click",function(){let c=E(t).$implicit,u=f(3);return g(u.eliminarVehiculo(c))}),n(8," Eliminar "),e()(),i(9,"div",13)(10,"ul",14)(11,"li"),n(12),e(),i(13,"li"),n(14),e(),i(15,"li"),n(16),e()()()()()}if(r&2){let t=o.$implicit;a(4),Y(t.nombre),a(8),q("Tipo: ",t.tipo,""),a(2),q("Cantidad de ruedas: ",t.cantidadRuedas,""),a(2),q("Capacidad: ",t.capacidadPromedio," pasajeros")}}function fe(r,o){if(r&1&&(i(0,"div")(1,"div",6),v(2,he,17,4,"div",7),e()()),r&2){let t=f().ngIf;a(2),m("ngForOf",t)}}function _e(r,o){if(r&1&&(i(0,"div"),v(1,fe,3,1,"div",5),e()),r&2){let t=o.ngIf;f();let l=Q(10);a(),m("ngIf",t.length>0)("ngIfElse",l)}}function be(r,o){r&1&&(i(0,"p",15),n(1,"Cargando veh\xEDculos..."),e())}function Se(r,o){r&1&&(i(0,"p",15),n(1,"No hay veh\xEDculos registrados en el sistema."),e())}var Z=class r{constructor(o){this.firestoreService=o;this.vehiculos$=this.firestoreService.traerVehiculos()}vehiculoSeleccionado=new C;vehiculoSeleccionadoEliminar=new C;vehiculos$;seleccionarVehiculo(o){this.vehiculoSeleccionado=o}cargarVehiculos(){this.vehiculos$=this.firestoreService.traerVehiculos()}ngOnInit(){}editarVehiculo(o){this.vehiculoSeleccionado.emit(o)}eliminarVehiculo(o){this.vehiculoSeleccionadoEliminar.emit(o)}static \u0275fac=function(t){return new(t||r)(p(S))};static \u0275cmp=_({type:r,selectors:[["app-listado-vehiculos"]],outputs:{vehiculoSeleccionado:"vehiculoSeleccionado",vehiculoSeleccionadoEliminar:"vehiculoSeleccionadoEliminar"},standalone:!0,features:[b],decls:11,vars:4,consts:[["loading",""],["noVehiculos",""],[1,"pricing-header","p-3","pb-md-4","mx-auto","text-center"],[1,"display-4","fw-normal"],[1,"fs-5","text-muted"],[4,"ngIf","ngIfElse"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-4"],[1,"card","mb-4","rounded-3","shadow-sm"],[1,"card-header","py-3","d-flex","justify-content-between","align-items-center"],[1,"my-0","fw-normal"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"card-body"],[1,"list-unstyled","mt-3","mb-4"],[1,"text-center"]],template:function(t,l){if(t&1&&(i(0,"div",2)(1,"h1",3),n(2,"Listado de Veh\xEDculos"),e(),i(3,"p",4),n(4,"Aqu\xED puedes ver todos los veh\xEDculos cargados en el sistema."),e()(),v(5,_e,2,2,"div",5),ee(6,"async"),v(7,be,2,0,"ng-template",null,0,U)(9,Se,2,0,"ng-template",null,1,U)),t&2){let c=Q(8);a(5),m("ngIf",ie(6,2,l.vehiculos$))("ngIfElse",c)}},dependencies:[V,ne,te,oe]})};var J=class r{constructor(o,t){this.fb=o;this.firestoreService=t}vehiculo;vehiculoModificado=new C;vehiculoForm;ngOnInit(){this.inicializarFormulario()}ngOnChanges(o){o.vehiculo&&this.vehiculo&&this.inicializarFormulario()}inicializarFormulario(){this.vehiculoForm=this.fb.group({nombre:[{value:this.vehiculo.nombre,disabled:!0}],tipo:[this.vehiculo.tipo,d.required],cantidadRuedas:[this.vehiculo.cantidadRuedas,[d.required,d.max(6)]],capacidadPromedio:[this.vehiculo.capacidadPromedio,[d.required,d.min(2),d.max(100)]]})}modificarVehiculo(){if(this.vehiculoForm.valid){let o=X(j({},this.vehiculoForm.getRawValue()),{id:this.vehiculo.id});this.firestoreService.actualizarVehiculo(o).then(()=>{this.vehiculoModificado.emit()})}}static \u0275fac=function(t){return new(t||r)(p(R),p(S))};static \u0275cmp=_({type:r,selectors:[["app-modificar-vehiculo"]],inputs:{vehiculo:"vehiculo"},outputs:{vehiculoModificado:"vehiculoModificado"},standalone:!0,features:[L,b],decls:25,vars:2,consts:[[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["for","tipo",1,"form-label"],["id","tipo","formControlName","tipo",1,"form-control"],["value","terrestre"],["value","aereo"],["value","maritimo"],["for","cantidadRuedas",1,"form-label"],["type","number","id","cantidadRuedas","formControlName","cantidadRuedas",1,"form-control"],["for","capacidadPromedio",1,"form-label"],["type","number","id","capacidadPromedio","formControlName","capacidadPromedio",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(t,l){t&1&&(i(0,"form",0),s("ngSubmit",function(){return l.modificarVehiculo()}),i(1,"div",1)(2,"label",2),n(3,"Nombre"),e(),h(4,"input",3),e(),i(5,"div",1)(6,"label",4),n(7,"Tipo"),e(),i(8,"select",5)(9,"option",6),n(10,"Terrestre"),e(),i(11,"option",7),n(12,"A\xE9reo"),e(),i(13,"option",8),n(14,"Mar\xEDtimo"),e()()(),i(15,"div",1)(16,"label",9),n(17,"Cantidad de Ruedas"),e(),h(18,"input",10),e(),i(19,"div",1)(20,"label",11),n(21,"Capacidad Promedio"),e(),h(22,"input",12),e(),i(23,"button",13),n(24," Modificar Veh\xEDculo "),e()()),t&2&&(m("formGroup",l.vehiculoForm),a(23),m("disabled",l.vehiculoForm.invalid))},dependencies:[P,N,T,A,F,I,D,x,y,M,w,le]})};var K=class r{constructor(o,t){this.fb=o;this.firestoreService=t}vehiculo;vehiculoModificado=new C;vehiculoForm;ngOnInit(){this.inicializarFormulario()}ngOnChanges(o){o.vehiculo&&this.vehiculo&&this.inicializarFormulario()}inicializarFormulario(){this.vehiculoForm=this.fb.group({nombre:[{value:this.vehiculo.nombre,disabled:!0}],tipo:[{value:this.vehiculo.tipo,disabled:!0}],cantidadRuedas:[{value:this.vehiculo.cantidadRuedas,disabled:!0}],capacidadPromedio:[{value:this.vehiculo.capacidadPromedio,disabled:!0}]})}eliminarVehiculo(){this.vehiculo&&this.vehiculo.id&&this.firestoreService.eliminarVehiculo(this.vehiculo.id).then(()=>{this.vehiculoModificado.emit()}).catch(o=>{console.error("Error al eliminar el veh\xEDculo:",o)})}static \u0275fac=function(t){return new(t||r)(p(R),p(S))};static \u0275cmp=_({type:r,selectors:[["app-baja-vehiculo"]],inputs:{vehiculo:"vehiculo"},outputs:{vehiculoModificado:"vehiculoModificado"},standalone:!0,features:[L,b],decls:25,vars:2,consts:[[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control"],["for","tipo",1,"form-label"],["id","tipo","formControlName","tipo",1,"form-control"],["value","terrestre"],["value","aereo"],["value","maritimo"],["for","cantidadRuedas",1,"form-label"],["type","number","id","cantidadRuedas","formControlName","cantidadRuedas",1,"form-control"],["for","capacidadPromedio",1,"form-label"],["type","number","id","capacidadPromedio","formControlName","capacidadPromedio",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(t,l){t&1&&(i(0,"form",0),s("ngSubmit",function(){return l.eliminarVehiculo()}),i(1,"div",1)(2,"label",2),n(3,"Nombre"),e(),h(4,"input",3),e(),i(5,"div",1)(6,"label",4),n(7,"Tipo"),e(),i(8,"select",5)(9,"option",6),n(10,"Terrestre"),e(),i(11,"option",7),n(12,"A\xE9reo"),e(),i(13,"option",8),n(14,"Mar\xEDtimo"),e()()(),i(15,"div",1)(16,"label",9),n(17,"Cantidad de Ruedas"),e(),h(18,"input",10),e(),i(19,"div",1)(20,"label",11),n(21,"Capacidad Promedio"),e(),h(22,"input",12),e(),i(23,"button",13),n(24," Eliminar Veh\xEDculo "),e()()),t&2&&(m("formGroup",l.vehiculoForm),a(23),m("disabled",l.vehiculoForm.invalid))},dependencies:[P,N,T,A,F,I,D,x,y,M,w]})};function Ee(r,o){if(r&1){let t=O();i(0,"div")(1,"app-modificar-vehiculo",5),s("vehiculoModificado",function(){E(t);let c=f();return g(c.actualizarListado())}),e()()}if(r&2){let t=f();a(),m("vehiculo",t.vehiculoEnEdicion)}}function ge(r,o){if(r&1){let t=O();i(0,"div")(1,"app-baja-vehiculo",6),s("vehiculoModificado",function(){E(t);let c=f();return g(c.actualizarListado())})("vehiculoEliminado",function(){E(t);let c=f();return g(c.actualizarListado())}),e()()}if(r&2){let t=f();a(),m("vehiculo",t.vehiculoAEliminar)}}var ce=class r{constructor(o){this.firestoreService=o}vehiculoEnEdicion=null;vehiculoAEliminar=null;editarVehiculo(o){this.vehiculoEnEdicion=j({},o)}eliminarVehiculo(o){this.vehiculoAEliminar=j({},o)}actualizarListado(){this.vehiculoAEliminar=null,this.vehiculoEnEdicion=null}static \u0275fac=function(t){return new(t||r)(p(S))};static \u0275cmp=_({type:r,selectors:[["app-vehiculos"]],standalone:!0,features:[b],decls:8,vars:2,consts:[[1,"container","py-3"],[3,"vehiculoSeleccionado","vehiculoSeleccionadoEliminar"],[1,"row","row-cols-1","row-cols-md-3","mb-3","text-center"],[3,"vehiculoSeleccionado"],[4,"ngIf"],[3,"vehiculoModificado","vehiculo"],[3,"vehiculoModificado","vehiculoEliminado","vehiculo"]],template:function(t,l){t&1&&(i(0,"body")(1,"div",0)(2,"app-listado-vehiculos",1),s("vehiculoSeleccionado",function(u){return l.editarVehiculo(u)})("vehiculoSeleccionadoEliminar",function(u){return l.eliminarVehiculo(u)}),e(),i(3,"main")(4,"div",2)(5,"app-alta-vehiculo",3),s("vehiculoSeleccionado",function(u){return l.editarVehiculo(u)}),e(),v(6,Ee,2,1,"div",4)(7,ge,2,1,"div",4),e()()()()),t&2&&(a(6),m("ngIf",l.vehiculoEnEdicion),a(),m("ngIf",l.vehiculoAEliminar))},dependencies:[z,Z,J,V,K]})};export{ce as VehiculosComponent};
