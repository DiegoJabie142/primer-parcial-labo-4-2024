import{a as D,b as q,c,d as V,e as j,f as L,g as R,h as G,i as M,m as O,n as $,o as B}from"./chunk-UUFDLWEU.js";import{a as z}from"./chunk-OD6JD6SN.js";import{a as U}from"./chunk-DOLG7K2Z.js";import"./chunk-2HDYPOS6.js";import{f as w}from"./chunk-SQKK5MZI.js";import"./chunk-77IT2KEC.js";import{$a as d,Ga as A,Ia as a,Ja as b,Qb as k,Rb as I,Xa as p,db as i,eb as t,fb as m,gb as N,ha as C,ib as f,kb as P,nb as T,pa as E,qa as F,rb as n,sb as y,wa as x,wb as _}from"./chunk-77DZ2PKD.js";function K(l,e){if(l&1){let o=N();i(0,"li",5),f("click",function(){let s=E(o).$implicit,u=P();return F(u.onCountryClick(s.name))}),i(1,"div",6),m(2,"img",7),i(3,"h6",8),n(4),t()(),i(5,"small",9),n(6,"South American Country"),t()()}if(l&2){let o=e.$implicit;a(2),T("alt","",o.name," flag"),d("src",o.flag,A),a(2),y(o.name)}}var S=class l{southAmericanCountries=[];countrySelected=new x;constructor(){}ngOnInit(){this.getSouthAmericanCountries()}getSouthAmericanCountries(){fetch("https://restcountries.com/v3.1/all").then(e=>{if(!e.ok)throw new Error(`Error: ${e.status}`);return e.json()}).then(e=>{this.southAmericanCountries=e.filter(o=>o.subregion==="South America").map(o=>({name:o.name.common,flag:o.flags.png}))}).catch(e=>{console.error(e)})}onCountryClick(e){this.countrySelected.emit(e)}static \u0275fac=function(o){return new(o||l)};static \u0275cmp=C({type:l,selectors:[["app-tabla-paises"]],outputs:{countrySelected:"countrySelected"},standalone:!0,features:[_],decls:7,vars:2,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"badge","bg-primary","rounded-pill"],[1,"list-group","mb-3"],["class","list-group-item d-flex justify-content-between lh-sm",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","lh-sm",3,"click"],[1,"d-flex","align-items-center"],[2,"width","40px","height","30px","margin-right","10px",3,"src","alt"],[1,"my-0"],[1,"text-muted"]],template:function(o,r){o&1&&(i(0,"h4",0)(1,"span",1),n(2,"Lista de pa\xEDses"),t(),i(3,"span",2),n(4),t()(),i(5,"ul",3),p(6,K,7,4,"li",4),t()),o&2&&(a(4),y(r.southAmericanCountries.length),a(2),d("ngForOf",r.southAmericanCountries))},dependencies:[k]})};function Q(l,e){l&1&&(i(0,"div",30),n(1," Valid first name is required. "),t())}function W(l,e){l&1&&(i(0,"div",30),n(1," Por favor indicar un n\xFAmero de documento v\xE1lido. "),t())}function X(l,e){l&1&&(i(0,"div",30),n(1," Por favor indicar una edad v\xE1lida. "),t())}function Y(l,e){l&1&&(i(0,"div",30),n(1," Por favor indicar un n\xFAmero de documento v\xE1lido. "),t())}function ee(l,e){l&1&&(i(0,"div",30),n(1," Por favor seleccionar un pa\xEDs v\xE1lido. "),t())}var Z=class l{constructor(e,o,r){this.fb=e;this.firestoreService=o;this.router=r}choferForm;selectedCountry="";ngOnInit(){this.choferForm=this.fb.group({nombre:["",[c.required,c.pattern(/^[a-zA-Z\s]*$/)]],documento:["",[c.required,c.minLength(8),c.maxLength(8)]],licencia:["",[c.required,c.minLength(7)]],edad:["",[c.required,c.min(1)]],pais:[{value:"",disabled:!0},c.required],licenciaProfesional:[!1]})}onCountrySelected(e){this.selectedCountry=e,this.choferForm.patchValue({pais:e})}guardarChofer(){if(this.choferForm.valid){let e=this.choferForm.getRawValue();console.log("Datos del chofer:",e),this.firestoreService.guardarChofer(e)}else console.log("Formulario inv\xE1lido")}onLogout(){this.firestoreService.logout().then(()=>{console.log("Sesi\xF3n cerrada exitosamente."),this.router.navigate(["/Login"])}).catch(e=>{console.error("Error al cerrar sesi\xF3n:",e)})}static \u0275fac=function(o){return new(o||l)(b($),b(U),b(w))};static \u0275cmp=C({type:l,selectors:[["app-alta-chofer"]],standalone:!0,features:[_],decls:51,vars:6,consts:[[1,"logout-button",3,"click"],[1,"bg-light"],[1,"container"],[1,"py-5","text-center"],[1,"lead"],[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[3,"countrySelected"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-sm-12"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre","required","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"col-12"],["for","documento",1,"form-label"],["type","number","id","documento","formControlName","documento","placeholder","Ejemplo: 42598325","required","",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","formControlName","edad","placeholder","Ejemplo: 24","required","",1,"form-control"],["for","licencia",1,"form-label"],["type","number","id","licencia","formControlName","licencia","placeholder","Ejemplo: 42598325","required","",1,"form-control"],[1,"col-12","form-check"],["type","checkbox","id","licenciaProfesional","formControlName","licenciaProfesional",1,"form-check-input"],["for","licenciaProfesional",1,"form-check-label"],["for","pais",1,"form-label"],["type","text","id","pais","formControlName","pais","placeholder","Seleccionar un pa\xEDs","required","","readonly","",1,"form-control"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg"],[1,"invalid-feedback"]],template:function(o,r){if(o&1&&(m(0,"app-nav"),i(1,"button",0),f("click",function(){return r.onLogout()}),n(2,"Cerrar sesi\xF3n"),t(),i(3,"body",1)(4,"div",2)(5,"main")(6,"div",3)(7,"h2"),n(8,"Formulario de Alta Chofer"),t(),i(9,"p",4),n(10,"Rellene los campos con la informaci\xF3n del Chofer"),t()(),i(11,"div",5)(12,"div",6)(13,"app-tabla-paises",7),f("countrySelected",function(u){return r.onCountrySelected(u)}),t()(),i(14,"div",8)(15,"h4",9),n(16,"Datos del Chofer"),t(),i(17,"form",10),f("ngSubmit",function(){return r.guardarChofer()}),i(18,"div",11)(19,"div",12)(20,"label",13),n(21,"Nombre"),t(),m(22,"input",14),p(23,Q,2,0,"div",15),t(),i(24,"div",16)(25,"label",17),n(26,"N\xFAmero de documento"),t(),m(27,"input",18),p(28,W,2,0,"div",15),t(),i(29,"div",16)(30,"label",19),n(31,"Edad"),t(),m(32,"input",20),p(33,X,2,0,"div",15),t(),i(34,"div",16)(35,"label",21),n(36,"N\xFAmero de licencia"),t(),m(37,"input",22),p(38,Y,2,0,"div",15),t(),i(39,"div",23),m(40,"input",24),i(41,"label",25),n(42," Licencia Profesional "),t()(),i(43,"div",16)(44,"label",26),n(45,"Pa\xEDs"),t(),m(46,"input",27),p(47,ee,2,0,"div",15),t()(),m(48,"hr",28),i(49,"button",29),n(50,"Dar de alta al chofer"),t()()()()()()()),o&2){let s,u,h,g,v;a(17),d("formGroup",r.choferForm),a(6),d("ngIf",((s=r.choferForm.get("nombre"))==null?null:s.invalid)&&((s=r.choferForm.get("nombre"))==null?null:s.touched)),a(5),d("ngIf",((u=r.choferForm.get("documento"))==null?null:u.invalid)&&((u=r.choferForm.get("documento"))==null?null:u.touched)),a(5),d("ngIf",((h=r.choferForm.get("edad"))==null?null:h.invalid)&&((h=r.choferForm.get("edad"))==null?null:h.touched)),a(5),d("ngIf",((g=r.choferForm.get("licencia"))==null?null:g.invalid)&&((g=r.choferForm.get("licencia"))==null?null:g.touched)),a(9),d("ngIf",((v=r.choferForm.get("pais"))==null?null:v.invalid)&&((v=r.choferForm.get("pais"))==null?null:v.touched))}},dependencies:[B,L,q,R,D,V,j,O,G,M,I,S,z]})};export{Z as AltaChoferComponent};
