import{c as z,d as U,e as K,f as d,g as X}from"./chunk-SDJJOXER.js";import{a as ce}from"./chunk-K7WHPP73.js";import{a as q,b as Q,c as $}from"./chunk-XK32XS4O.js";import{A as J,C as W,w as Y,x as Z,y as S}from"./chunk-KOCIBSW2.js";import{Ga as P,Jb as H,Ka as _,La as N,Ma as O,Oa as L,Qa as j,Sb as B,Ta as G,Za as y,_ as D,aa as k,da as E,e as le,eb as A,fb as l,ga as a,gb as s,hb as b,ib as v,j as g,ja as C,kb as c,ma as V,mb as m,ra as h,sa as f,ub as p,yb as x,za as M}from"./chunk-HYXEKGSD.js";var R=(o,t)=>{let e=a(S),n=a(d);return new g(i=>{e.onAuthStateChanged(r=>{r?i.next(!0):(n.navigate(["/Login"]),i.next(!1))})})};var I=(o,t)=>{let e=a(S),n=a(d);return new g(i=>{e.onAuthStateChanged(r=>{r?(n.navigate(["/home"]),i.next(!1)):i.next(!0)})})};var ee=(o,t)=>{let e=a(d);return new g(n=>{localStorage.getItem("rol")==="admin"?n.next(!0):(e.navigate(["/"]),n.next(!1))})};var te=le(ce()),ne=o=>{let t=o.form.get("edad")?.invalid,e=!o.form.get("terms")?.value;return t||e?(te.default.fire({title:"\xA1Atenci\xF3n!",text:"Debes aceptar los t\xE9rminos y condiciones y tener una edad v\xE1lida para continuar.",icon:"warning",showCancelButton:!1,confirmButtonText:"Entendido"}),!1):!0};var oe=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"terminos-condiciones",loadComponent:()=>import("./chunk-QDZHOTMO.js").then(o=>o.AcetarTerminosComponent),canDeactivate:[ne]},{path:"AltaChofer",loadComponent:()=>import("./chunk-GEGP7UXG.js").then(o=>o.AltaChoferComponent),canActivate:[R]},{path:"Login",loadComponent:()=>import("./chunk-QN6N3AOW.js").then(o=>o.LoginComponent),canActivate:[I]},{path:"Register",loadComponent:()=>import("./chunk-MHO5URHW.js").then(o=>o.RegisterComponent),canActivate:[I]},{path:"home",loadComponent:()=>import("./chunk-OC65GQO3.js").then(o=>o.HomeComponent)},{path:"Choferes",loadComponent:()=>import("./chunk-RC7R4KS2.js").then(o=>o.ChoferesComponent),canActivate:[R]},{path:"vehiculos",loadComponent:()=>import("./chunk-4KSGWAND.js").then(o=>o.VehiculosComponent),canActivate:[ee]}];var me="@",pe=(()=>{class o{constructor(e,n,i,r,u){this.doc=e,this.delegate=n,this.zone=i,this.animationType=r,this.moduleImpl=u,this._rendererFactoryPromise=null,this.scheduler=a(L,{optional:!0}),this.loadingSchedulerFn=a(de,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-D7HXCWL3.js").then(i=>i),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(i=>{throw new D(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:r})=>{this._engine=i(this.animationType,this.doc);let u=new r(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(e,n){let i=this.delegate.createRenderer(e,n);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let r=new T(i);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let se=u.createRenderer(e,n);r.use(se),this.scheduler?.notify(10)}).catch(u=>{r.use(i)}),r}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){O()}}static{this.\u0275prov=k({token:o,factory:o.\u0275fac})}}return o})(),T=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,i){this.delegate.insertBefore(t,e,n,i)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(t,e,n)),this.delegate.listen(t,e,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(me)}},de=new E("");function re(o="animations"){return G("NgAsyncAnimations"),V([{provide:j,useFactory:(t,e,n)=>new pe(t,e,n,o),deps:[B,z,M]},{provide:P,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ae={providers:[H({eventCoalescing:!0}),X(oe),Y(()=>Z({projectId:"modeloprimer-4d55f",appId:"1:334600487552:web:abe3c62747aac8ba95dc65",storageBucket:"modeloprimer-4d55f.appspot.com",apiKey:"AIzaSyAHf37O3sHs0wDPKAtLzeS2lkMkPC7b0H4",authDomain:"modeloprimer-4d55f.firebaseapp.com",messagingSenderId:"334600487552",measurementId:"G-4VLXJNMS81"})),J(()=>W()),q(()=>Q()),re()]};function he(o,t){if(o&1){let e=v();l(0,"li",7)(1,"a",8),c("click",function(){h(e);let i=m(2);return f(i.redirect("/vehiculos"))}),p(2,"Vehiculos"),s()()}}function fe(o,t){if(o&1){let e=v();l(0,"li",7)(1,"a",8),c("click",function(){h(e);let i=m();return f(i.redirect("/AltaChofer"))}),p(2,"Alta Chofer"),s()(),l(3,"li",7)(4,"a",8),c("click",function(){h(e);let i=m();return f(i.redirect("/Choferes"))}),p(5,"Choferes"),s()(),y(6,he,3,0,"li",7)}if(o&2){let e=m();_(6),A(e.admin?6:-1)}}function ge(o,t){if(o&1){let e=v();l(0,"li",7)(1,"a",8),c("click",function(){h(e);let i=m();return f(i.redirect("/Login"))}),p(2,"Login"),s()(),l(3,"li",7)(4,"a",8),c("click",function(){h(e);let i=m();return f(i.redirect("/Register"))}),p(5,"Register"),s()()}}function ve(o,t){if(o&1){let e=v();l(0,"button",9),c("click",function(){h(e);let i=m();return f(i.onLogout())}),p(1,"Cerrar sesi\xF3n"),s()}}var w=class o{constructor(t,e){this.authService=t;this.router=e}logged=!1;admin=!1;ngOnInit(){this.authService.isUserLoggedIn().subscribe(t=>{this.logged=t,t?localStorage.getItem("rol")==="admin"?this.admin=!0:this.admin=!1:this.admin=!1})}onLogout(){this.authService.logout().then(()=>{console.log("Sesi\xF3n cerrada exitosamente."),this.router.navigate(["/Login"])}).catch(t=>{console.error("Error al cerrar sesi\xF3n:",t)})}redirectToTerminos(){this.router.navigate(["/terminos-condiciones"])}redirect(t){this.router.navigate([t])}static \u0275fac=function(e){return new(e||o)(N($),N(d))};static \u0275cmp=C({type:o,selectors:[["app-nav"]],standalone:!0,features:[x],decls:10,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"navbar-brand",3,"click"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"logout-button"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"logout-button",3,"click"]],template:function(e,n){e&1&&(l(0,"nav",0)(1,"a",1),c("click",function(){return n.redirect("/home")}),p(2,"Home"),s(),l(3,"button",2),b(4,"span",3),s(),l(5,"div",4)(6,"ul",5),y(7,fe,7,1)(8,ge,6,0),s()(),y(9,ve,2,0,"button",6),s()),e&2&&(_(7),A(n.logged?7:8),_(2),A(n.logged?9:-1))},styles:[".navbar-brand[_ngcontent-%COMP%]{margin-left:50px}"]})};var F=class o{title="modeloprimerparcial";static \u0275fac=function(e){return new(e||o)};static \u0275cmp=C({type:o,selectors:[["app-root"]],standalone:!0,features:[x],decls:2,vars:0,template:function(e,n){e&1&&b(0,"app-nav")(1,"router-outlet")},dependencies:[K,w]})};U(F,ae).catch(o=>console.error(o));
